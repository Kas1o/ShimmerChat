@using Markdig
@using Markdig.Extensions.Tables

@inject IStringLocalizer<Message> l
@inject IJSRuntime JS


<div class="shimmer-message shimmer-toolcall">
	<div class="shimmer-message-head">
		<h3>⚙️</h3>
	</div>
	<details>
	<summary>@summary</summary>
	@stringContent
	</details>
</div>


@code {

	[Parameter]
	public ShimmerChatLib.Message message { get; set; } = null!; // The message object to display

	string stringContent => string.Join("\n", message?.message?.toolCalls?.Select(x => $"{x.name??""}|{x.arguments??""}") ?? []) ?? ""; // The string content of the message
	string summary => string.Join(" ", message?.message?.toolCalls?.Select(x => $"{x.name ?? ""}") ?? []) ?? "";

	string sender => message.sender;
}
